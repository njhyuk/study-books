# 7-2 객체를 깊은 수준까지 불변적으로 만드는 것을 고려하라

## 7.2.1 깊은 가변성은 오용을 초래할 수 있다
* 예제 7.7 글꼴 목록을 list 로 갖는 클래스
	* 글꼴 목록을 가지고 있는 것이 아닌 참조를 가지고 있다
* 시나리오 A
	* 글꼴 목록에 대한 참조가 생성자로 전달되고
	* 이후에 clear() 메소드가 실행되는 케이스
* 시나리오 B
	* 글꼴 목록에 대한 참조를 getFontFamily() 메소드로 가져오고
	* 이후에 clear() 메소드가 실행되는 케이스

## 7.2.2 해결책: 방어적으로 복사하라
* 깊은 불변성을 담보하기 쉬운 방법 (예제 7.10)
* 생성자에서 받을때 list 를 복사, get 메소드에서 list 를 복사해서 리턴
* 단점
	* 복사의 비용 (글꼴 목록이 너무 많다면?)
	* 클래스 내부에서 발생하는 변경

## 7.2.3 해결책: 불변적 자료구조를 사용하라
* Java 의 ImmutableList 클래스
* 코틀린은 기본이 불변
