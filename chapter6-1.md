# 6. 예측 가능한 코드를 작성하라
코드가 예측을 벗어나 동적하게 되는 일반적인 몇 가지 경우와 이를 피하기 위한 기술

# 6.1 매직값을 반환하지 말아야 한다
* 매직값의 일반적인 예 : 오류가 발생했을때 -1 반환
* 특별한 의미를 인지하지 못할 수 있음 -> 예측을 벗어나는 코드

## 6.1.1 매직값은 버그를 유발할 수 있다
* 과거의 잔재다
	* 더 명시적인 오류 전달 기법 불가
	* 널 또는 옵셔널 반환 불가
	* 필요한 상황
		* 레거시코드로 작업중일때
		* 신중하게 최적화해야 하는 코드

### 예제 6.1
* getAge() 함수는 Int 반환
* 다른 개발자는 반환값을 항상 사용 가능하다고 인식
* 단, 반환 불가할 경우 -1 반환

### 예제 6.2
* 평균 연령을 구하는 코드
* 모든 나이를 더해서 나누는 코드를 짜버림
* -1도 더해서 오류

## 6.1.2 해결책: 널, 옵셔널 또는 오류를 반환하라
* null safety 언어 : null 반환
	* 평균 연령 코드에서 null 을 더하려고 하면 컴파일 오류 발생
* null safety 불가 : optional 반환

> 단 null 을 반환하면 호출하는 쪽에서 무조건 null 에 대한 if 문을 작성 해야함
> 널 반환의 대안으로 널 객체 패턴 고려 필요
> ex) KakaotalkSender, AppPushSender, NoneSender

## 6.1.3 때때로 매직값이 우연히 발생할 수 있다
* [예제 6.6]
	* 최소값을 구하는 함수 로직
	* 최소값 기본값 - Int.MAX_VALUE 으로 매직값 설정
* [예제 6.7]
	* 레벨14 난이도의 게임의 기록이 없음
	* 최소 점수가 Int.MAX_VALUE 되어버림

* Int.MAX_VALUE 는 프로그래밍 언어에 따라 다른 문제도 있음
* 널값이나 빈 옵셔널을 반환하는게 낫다
