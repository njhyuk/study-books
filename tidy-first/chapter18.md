 # 코드 정리의 일괄 처리량
 
코드 정리는 어느 정도 크기가 적절할까?

* 코드 정리를 다음 동작 변경을 돕는 구조 변경으로 본다면?
  * 얼마나 많은 구조 변경이 필요할까?
  * 기본적으로 코드 정리는 즉각적인 필요를 다뤄야 한다.
* 코드 정리의 크기가 어느 정도일때 쉽게 통합하고 배포할 수 있을까?
* 3가지 선택지
  * 모든 코드 정리를 한꺼번에 하기
  * 모두 개별적으로 하기
  * 그 중간을 택하기
* 코드 정리 범위에 고려할 만한 비용
  * 일괄 처리 규모 증가에 따른 비용은 J 커브

## 충돌

* 일괄 처리 코드 정리작업이 많을수록 통합 과정에서 지연 시간이 길어짐
  * 다른 사람의 작업과 충돌할 가능성이 커짐
* 코드 병합 과정에서 충돌이 발생할수록 작업을 병행하는 비용 또한 큰 폭으로 증가함

## 상호작용

* 다수의 코드 정리를 한번에 처리하다가, 우연히 동작 변경을 할 수도 있다.
* 코드 정리 사이에 상호작용이 있으면 병합 비용은 급격히 증가한다.

## 추측

* 한번에 처리하는 코드 정리가 많을수록, 자연스럽게 더 많은 코드를 정리한다.
* 그로 인해 예상치 못한 추가 비용이 발생한다.
* 이러한 요인으로 한번에 처리하는 코드 정리 개수를 줄인 후 통합한다.
* 많은 조직에서 하나의 변경사항을 검토하고 배포하는 데 드는 고정 비용은 상당히 많다.
  * 프로그래머는 고정 비용을 체감하기에, 한번에 처리하는 양을 늘리려고 한다.


## 그럼 어떻게 할까?

* 일괄처리를 줄이고, 코드 정리 개수를 늘려서 동작 변경에 소용되는 비용을 줄여라
* 팀에 신뢰와 강력한 문화가 있다면 코드 정리 후에는 굳이 검토할 필요가 없다
