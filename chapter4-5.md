# 4.5 호출하는 쪽에서 복구하기를 원할 수도 있는 오류의 전달

모범 사례와 관련해 개발자 사이에 일치된 의견이 없다. (비검사 예외 vs 검사 예외)

## 4.5.1 비검사 예외를 사용해야 한다는 주장

* 대부분의 오류 처리가 상위 계층에서 이루어 질 수 있기 때문에 코드 구조를 개선할 수 있다.
* 중간에 있는 계층은 원한다면 일부 처리 가능, 그렇지 않으면 최상위
* 상위에 있는 오류 처리 계층은, 오류 메세지 UI에 표시
  * 오류 처리 로직이 전체로 퍼지지 않는 장점

### 개발자들이 무엇을 할 것인지에 대해서 실용적이어야 함

* 개발자들이 너무 많은 명시적 오류를 전달하면 다 무시해버린다.
  * ex) catch Excetion {} 으로 다 먹어 버리기
* (예제 4.28) 
  * 초기 코드 : 인메모리 저장소를 사용할때는 예외가 없는 초기 코드
  * 후기 코드 : 디스크 저장소를 사용하여 IoException 발생, 모든 호출자 수정 필요
    * 작업양이 많음 - 개발자가 모든 예외에 아무 처리하지 않는 catch 를 넣어버림

## 4.5.2 명시적 기법을 사용해야 한다는 주장

### 매끄러운 오류 처리

* 비검사 예외는 모든 오류를 위한 단일 계층을 갖기 어렵다.
* 사용자 친화적이지 않은 오류 메시지를 UI에 표시할 수 있다.
* 호출하는 쪽에서 처리하면 친화적인 메시지로 매끄럽게 처리할 가능성이 커진다.

### 실수로 오류를 무시할 수 없다

* 비검사 예외는 적극적인 의사 결정이 들어갈 여지가 줄어듦 -> 잘못된 일이 일어날 가능성이 높다.
* 명시적인 예외를 사용해도, 개발자가 모든 예외를 무시해 버리는 코드를 쓸 순 있다.
  * 이건 코드 검수 (PR) 로 드러난다.

### 개발자들이 무엇을 할 것인지에 대해서 실용적이어야 함

* 비검사 예외가 문서화될 보장이 없다.
* (예제 4.30) 비검사 예외를 호출부에서 처리하는 Case, 새로운 예외가 추가 개발되면 운영에서 오류남
* (예제 4.31) `catch (Exception e)` 모든 오류가 숨겨진다. 코드 검토중에 발견된다.

## 4.5.3 필자의 의견: 명시적 방식을 사용하라

* 비검사 예외는 문서화 되는게 드물다.
* 너무 많은 버그와 작동 실패가 일어나는 것을 경험
* 호출하는 쪽에서 복구하기를 원할 가능성이 있다면? 명시적 오류 전달 방식을 사용
